<ActionBar title="test">
  <GridLayout columns="*, 20">
    <Label text="Spendings" class="action-label" column="0"></Label>
    <Image src="res://donut" width="20" height="20" class="right" column="2" class="right" [nsRouterLink]="['/sum']"></Image>
  </GridLayout>
</ActionBar>

<GridLayout rows="auto, auto, *, auto">

  <GridLayout row="0" columns="*, auto, auto, auto" class="add-bar">
    <TextField [(ngModel)]="searchField" hint="Search" (returnPress)="search()" col="0"></TextField>
    <Image src="res://search" (tap)="search()" col="1"></Image>
    <Image src="res://filter" (tap)="filter()" width="20" height="20" col="2"></Image>
    <Image src="res://add" (tap)="add()" width="20" height="20" col="3"></Image>
  </GridLayout>

  <GridLayout row="1" columns="100, 90, 80">
    <Label text="Date" col="0" class="medium-spacing"></Label>
    <Label text="Category" col="1" class="medium-spacing"></Label>
    <Label text="Amount" col="2" class="medium-spacing"></Label>
  </GridLayout>

  <ListView [items]="spendingList" row="2" class="small-spacing" [class.visible]="listLoaded">
    <ng-template let-item="item">
      <GridLayout columns="100, 90, 80, *, *" (tap)="detail(item)">
        <Label [text]="item.date" col="0" class="medium-spacing"></Label>
        <Label [text]="item.category.name" col="1" class="medium-spacing"></Label>
        <Label [text]="item.amount" col="2" class="medium-spacing"></Label>
        <Image src="res://edit" (tap)="edit(item)" col="3" width="20" height="20"></Image>
        <Image src="res://delete" (tap)="del(item)" col="4" width="20" height="20"></Image>
      </GridLayout>
    </ng-template>
  </ListView>

  <ActivityIndicator [busy]="isLoading" [visibility]="isLoading ? 'visible' : 'collapse'" row="2" horizontalAlignment="center" verticalAlignment="center"></ActivityIndicator>

  <GridLayout row="3" columns="auto,*,auto">
    <Label text="Prev" col="0" class="medium-spacing" (tap)="prev()"></Label>
    <Label [text]="totalText" col="1" class="medium-spacing"></Label>
    <Label text="Next" col="2" class="medium-spacing" (tap)="next()"></Label>
  </GridLayout>
</GridLayout>
